<div *transloco="let t">
  <div class="space-y-2 mb-8 text-center">
    <h1 class="text-3xl font-bold text-surface-900">{{ t('auth.welcomeBack') }}</h1>
    <p class="text-surface-500 dark:text-surface-400">{{ t('auth.signInSubtitle') }}</p>
  </div>

  @if (errorMessage()) {
    <p-message severity="error" class="mb-6 w-full">{{ errorMessage() }}</p-message>
  }

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-6">
    <!-- Email -->
    <div class="flex flex-col gap-2">
      <p-floatlabel variant="on">
        <input fluid pInputText id="email" formControlName="email" autocomplete="email" />
        <label for="email">{{ t('auth.email') }}</label>
      </p-floatlabel>
      @if (form.controls.email.invalid && (form.controls.email.touched || isSubmitting())) {
        <p-message severity="error" size="small" variant="simple">
          @if (form.controls.email.hasError('required')) {
            {{ t('auth.errors.emailRequired') }}
          }
          @if (form.controls.email.hasError('email')) {
            {{ t('auth.errors.emailInvalid') }}
          }
        </p-message>
      }
    </div>

    <!-- Password -->
    <div class="flex flex-col gap-2">
      <p-floatlabel variant="on">
        <p-password
          id="password"
          formControlName="password"
          [feedback]="false"
          [toggleMask]="true"
          fluid
          inputStyleClass="w-full"
        />
        <label for="password">{{ t('auth.password') }}</label>
      </p-floatlabel>
      @if (form.controls.password.invalid && (form.controls.password.touched || isSubmitting())) {
        <p-message severity="error" size="small" variant="simple">
          @if (form.controls.password.hasError('required')) {
            {{ t('auth.errors.passwordRequired') }}
          }
          @if (form.controls.password.hasError('minlength')) {
            {{ t('auth.errors.passwordMinLength') }}
          }
        </p-message>
      }
    </div>

    <!-- Submit -->
    <p-button
      type="submit"
      [label]="t('auth.signIn')"
      [loading]="isSubmitting()"
      styleClass="w-full"
    />
  </form>

  <p class="text-center text-sm text-surface-500 dark:text-surface-400 mt-8">
    {{ t('auth.noAccount') }}
    <a routerLink="/register" class="text-primary font-medium hover:underline">{{
      t('auth.signUp')
    }}</a>
  </p>
</div>
